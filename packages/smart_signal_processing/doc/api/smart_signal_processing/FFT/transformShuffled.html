<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the transformShuffled method from the FFT class, for the Dart programming language.">
  <title>transformShuffled method - FFT class - smart_signal_processing library - Dart API</title>
  <!-- required because all the links are pseudo-absolute -->
  <base href="../..">

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="static-assets/github.css">
  <link rel="stylesheet" href="static-assets/styles.css">
  <link rel="icon" href="static-assets/favicon.png">
  <!-- header placeholder -->
</head>

<body>

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">smart_signal_processing</a></li>
    <li><a href="smart_signal_processing/smart_signal_processing-library.html">smart_signal_processing</a></li>
    <li><a href="smart_signal_processing/FFT-class.html">FFT</a></li>
    <li class="self-crumb">transformShuffled method</li>
  </ol>
  <div class="self-name">transformShuffled</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="index.html">smart_signal_processing</a></li>
      <li><a href="smart_signal_processing/smart_signal_processing-library.html">smart_signal_processing</a></li>
      <li><a href="smart_signal_processing/FFT-class.html">FFT</a></li>
      <li class="self-crumb">transformShuffled method</li>
    </ol>
    
    <h5>FFT class</h5>
    <ol>
    
        <li class="section-title"><a href="smart_signal_processing/FFT-class.html#constructors">Constructors</a></li>
        <li><a href="smart_signal_processing/FFT/FFT.html">FFT</a></li>
    
        <li class="section-title inherited">
            <a href="smart_signal_processing/FFT-class.html#instance-properties">Properties</a>
        </li>
        <li class="inherited"><a href="smart_signal_processing/FFT/hashCode.html">hashCode</a></li>
        <li class="inherited"><a href="smart_signal_processing/FFT/runtimeType.html">runtimeType</a></li>
    
        <li class="section-title"><a href="smart_signal_processing/FFT-class.html#instance-methods">Methods</a></li>
        <li><a href="smart_signal_processing/FFT/computeInverseFft.html">computeInverseFft</a></li>
        <li class="inherited"><a href="smart_signal_processing/FFT/noSuchMethod.html">noSuchMethod</a></li>
        <li class="inherited"><a href="smart_signal_processing/FFT/toString.html">toString</a></li>
    
        <li class="section-title inherited"><a href="smart_signal_processing/FFT-class.html#operators">Operators</a></li>
        <li class="inherited"><a href="smart_signal_processing/FFT/operator_equals.html">operator ==</a></li>
    
        <li class="section-title"><a href="smart_signal_processing/FFT-class.html#static-properties">Static properties</a></li>
        <li><a href="smart_signal_processing/FFT/bcsize.html">bcsize</a></li>
        <li><a href="smart_signal_processing/FFT/bcstart.html">bcstart</a></li>
        <li><a href="smart_signal_processing/FFT/complex.html">complex</a></li>
        <li><a href="smart_signal_processing/FFT/dobc.html">dobc</a></li>
        <li><a href="smart_signal_processing/FFT/doem.html">doem</a></li>
        <li><a href="smart_signal_processing/FFT/doft.html">doft</a></li>
        <li><a href="smart_signal_processing/FFT/dogm.html">dogm</a></li>
        <li><a href="smart_signal_processing/FFT/ema.html">ema</a></li>
        <li><a href="smart_signal_processing/FFT/FT_SWAP_MODE_FULL.html">FT_SWAP_MODE_FULL</a></li>
        <li><a href="smart_signal_processing/FFT/FT_SWAP_MODE_HALF.html">FT_SWAP_MODE_HALF</a></li>
        <li><a href="smart_signal_processing/FFT/FT_SWAP_MODE_NO.html">FT_SWAP_MODE_NO</a></li>
        <li><a href="smart_signal_processing/FFT/ftzerofill.html">ftzerofill</a></li>
        <li><a href="smart_signal_processing/FFT/gmr.html">gmr</a></li>
        <li><a href="smart_signal_processing/FFT/gms.html">gms</a></li>
        <li><a href="smart_signal_processing/FFT/groupDelay.html">groupDelay</a></li>
        <li><a href="smart_signal_processing/FFT/swapMode.html">swapMode</a></li>
    
        <li class="section-title"><a href="smart_signal_processing/FFT-class.html#static-methods">Static methods</a></li>
        <li><a href="smart_signal_processing/FFT/combiTransform.html">combiTransform</a></li>
        <li><a href="smart_signal_processing/FFT/phascor.html">phascor</a></li>
        <li><a href="smart_signal_processing/FFT/reverseBits.html">reverseBits</a></li>
        <li><a href="smart_signal_processing/FFT/transform.html">transform</a></li>
        <li><a href="smart_signal_processing/FFT/transformRadix2.html">transformRadix2</a></li>
        <li><a href="smart_signal_processing/FFT/transformShuffled.html">transformShuffled</a></li>
    
    
    
    </ol>
  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <div><h1><span class="kind-method">transformShuffled</span> method</h1></div>

    <section class="multi-line-signature">
      <span class="returntype">List<span class="signature">&lt;<wbr><span class="type-parameter">Float64List</span>&gt;</span></span>
            <span class="name ">transformShuffled</span>
(<wbr><span class="parameter" id="transformShuffled-param-complArray"><span class="type-annotation">Float64List</span> <span class="parameter-name">complArray</span>, </span> <span class="parameter" id="transformShuffled-param-groupDelay"><span class="type-annotation">String</span> <span class="parameter-name">groupDelay</span>, </span> <span class="parameter" id="transformShuffled-param-swapMode"><span class="type-annotation">int</span> <span class="parameter-name">swapMode</span>, [</span> <span class="parameter" id="transformShuffled-param-isComplex"><span class="type-annotation">bool</span> <span class="parameter-name">isComplex</span> = <span class="default-value">true</span></span> ])
      
    </section>
    <section class="desc markdown">
      <p>Computes the discrete FFT of a complex array.
<code>complArray</code> = the complex values of the array if <code>isComplex</code> is true (the
  default value). The array must be ordered
  in the form <code>real value 0, imag value 0,  real value 1, imag value 1,...</code>.
  If <code>isComplex</code> is false, the array must be ordered
  in the form <code>real value 0, real value 1, ...</code>.
Throws if the length is not a power of 2.
Returns the result: The result consists of 2 new arrays representing
complex data, the input array remains unchanged:
The real part is the array stored under index 0 of the returned list, the
imaginary part corresponds to index 1.
If <code>isComplex</code> is true, the lengths of the resulting real part and of the
corresponding imaginary part are half of the length of the input array
<code>complArray</code>. If <code>isComplex</code> is false, the lengths of the resulting real
part and of the corresponding imaginary part are the same as the length of
the input array <code>complArray</code> because internally <code>complArray</code> is treated
as a complex array with a zero imaginary part.
The resulting array values are scaled relatively (non absolute values).
<code>groupDelay</code> = a double in String format. In some measurement time data, the
  actual data do not start at 0, but <code>groupDelay</code> later, in terms of
  complex points. For such types of data
  the FFT would produce a "phase shifted" result (see function <a href="smart_signal_processing/FFT/phascor.html">phascor</a> below).
  This phase shift is accounted for if <code>groupDelay</code> is chosen not be zero
  but according to the measurement.
<code>swapMode</code> = one of <a href="smart_signal_processing/FFT/FT_SWAP_MODE_NO.html">FT_SWAP_MODE_NO</a>, <a href="smart_signal_processing/FFT/FT_SWAP_MODE_FULL.html">FT_SWAP_MODE_FULL</a>, <a href="smart_signal_processing/FFT/FT_SWAP_MODE_HALF.html">FT_SWAP_MODE_HALF</a>.
These modes are needed depending on how the data to be transformed
were sampled on a measurement device, e.g. a spectrometer.
 <a href="smart_signal_processing/FFT/FT_SWAP_MODE_NO.html">FT_SWAP_MODE_NO</a>: no special effect
 <a href="smart_signal_processing/FFT/FT_SWAP_MODE_FULL.html">FT_SWAP_MODE_FULL</a>: 1) every other complex points is negated before th
   transform. 2) The order of the real data points is reversed after transform.
   The same is done for the imaginary data points.
 <a href="smart_signal_processing/FFT/FT_SWAP_MODE_HALF.html">FT_SWAP_MODE_HALF</a>: The order of the first half of the real data points,
  and of the seconds half of the real data points is reversed after transform.
  The same is applied to the imaginary data points.</p>
    </section>
    
    <section class="summary source-code" id="source">
      <h2><span>Implementation</span></h2>
      <pre class="language-dart"><code class="language-dart">static List&lt;Float64List&gt; transformShuffled(
    Float64List complArray, String groupDelay, int swapMode,
    [bool isComplex = true]) {
  &#47;&#47; reim in new, shuffledArray remains unchanged.
  List&lt;Float64List&gt; reim;
  if (isComplex) {
    reim = Array1D.unshuffle(complArray); &#47;&#47; returns 2 new arrays
  } else {
    reim = List&lt;Float64List&gt;(2); &#47;&#47; creates 2 new arrays
    reim[0] = Float64List(complArray.length);
    for (int i = 0; i &lt; complArray.length; i++) {
      reim[0][i] = complArray[i];
    }
    reim[1] = Float64List(complArray.length);
  }

  &#47;&#47; negation of every other (complex) point needed
  &#47;&#47; e.g. data with bruker groupDelay -1, but DECIM and DSPFVS &gt; 0
  if (swapMode == FT_SWAP_MODE_FULL) {
    for (int i = 0; i &lt; reim[0].length; i += 2) {
      reim[0][i + 1] = -reim[0][i + 1];
      reim[1][i + 1] = -reim[1][i + 1];
    }
  }

  transform(reim[0], reim[1]); &#47;&#47; in-place transform of complex data

  if (groupDelay != null &amp;&amp; double.parse(groupDelay) &gt; 0) {
    phascor(reim[0], reim[1], 0, double.parse(groupDelay) * 360); &#47;&#47; orig
  }

  &#47;&#47; e.g. data with  groupDelay -1, but DECIM and DSPFVS &gt; 0
  if (swapMode == FT_SWAP_MODE_FULL) {
    Array1D.swap(reim[0]);
    Array1D.swap(reim[1]);
  } else if (swapMode == FT_SWAP_MODE_HALF) {
    &#47;&#47; e.g. data with bruker groupDelay &gt; 0,
    Array1D.swapHalf(reim[0]);
    Array1D.swapHalf(reim[1]);
  }
  return reim;
}</code></pre>
    </section>

  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    smart_signal_processing
      2.1.1
  </span>

  <!-- footer-text placeholder -->
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/highlight.pack.js"></script>
<script src="static-assets/URI.js"></script>
<script src="static-assets/script.js"></script>
<!-- footer placeholder -->

</body>

</html>
