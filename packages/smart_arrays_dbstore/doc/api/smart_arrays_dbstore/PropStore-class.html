<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the PropStore class from the smart_arrays_dbstore library, for the Dart programming language.">
  <title>PropStore class - smart_arrays_dbstore library - Dart API</title>
  <!-- required because all the links are pseudo-absolute -->
  <base href="..">

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="static-assets/github.css">
  <link rel="stylesheet" href="static-assets/styles.css">
  <link rel="icon" href="static-assets/favicon.png">
  
</head>

<body>

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">smart_arrays_dbstore</a></li>
    <li><a href="smart_arrays_dbstore/smart_arrays_dbstore-library.html">smart_arrays_dbstore</a></li>
    <li class="self-crumb">PropStore class</li>
  </ol>
  <div class="self-name">PropStore</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="index.html">smart_arrays_dbstore</a></li>
      <li><a href="smart_arrays_dbstore/smart_arrays_dbstore-library.html">smart_arrays_dbstore</a></li>
      <li class="self-crumb">PropStore class</li>
    </ol>
    
    <h5>smart_arrays_dbstore library</h5>
    <ol>
      <li class="section-title"><a href="smart_arrays_dbstore/smart_arrays_dbstore-library.html#classes">Classes</a></li>
      <li><a href="smart_arrays_dbstore/DSAuditTrail-class.html">DSAuditTrail</a></li>
      <li><a href="smart_arrays_dbstore/DSet-class.html">DSet</a></li>
      <li><a href="smart_arrays_dbstore/DSetDB-class.html">DSetDB</a></li>
      <li><a href="smart_arrays_dbstore/DSetStore-class.html">DSetStore</a></li>
      <li><a href="smart_arrays_dbstore/DSKey-class.html">DSKey</a></li>
      <li><a href="smart_arrays_dbstore/PropStore-class.html">PropStore</a></li>
      <li><a href="smart_arrays_dbstore/UtilsJson-class.html">UtilsJson</a></li>
    
    
    
    
    
    
      <li class="section-title"><a href="smart_arrays_dbstore/smart_arrays_dbstore-library.html#typedefs">Typedefs</a></li>
      <li><a href="smart_arrays_dbstore/DSetInit.html">DSetInit</a></li>
    
    </ol>
  </div>

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <div><h1><span class="kind-class">PropStore</span> class </h1></div>

    <section class="desc markdown">
      <p>The purpose of this class is to provide functionalities allowing one to
store and retrieve key-value String pairs ("properties") in a database of
type IndexedDB. The class is used in the <code>smart_array_dbstore</code> package to
save information in a database which are common to dataset of type <a href="smart_arrays_dbstore/DSet-class.html">DSet</a>
also stored in databases.
Note: You may of course also store data types more complex than String if
they can be represented as Strings, e.g. in jsonified form such as Lists
or Maps.
Usage:</p><ol><li>Call constructor to define the db name</li><li>Call loadProps() once to open the db, or create a new one if not existing.</li><li>use <a href="smart_arrays_dbstore/PropStore/propGet.html">propGet</a>, <a href="smart_arrays_dbstore/PropStore/propSave.html">propSave</a>, or <a href="smart_arrays_dbstore/PropStore/propDel.html">propDel</a>.
For an introduction to IndexedDB see for example
  <a href="http://dartdoc.takyam.com/docs/tutorials/indexeddb/">http://dartdoc.takyam.com/docs/tutorials/indexeddb/</a></li></ol>
    </section>
    

    <section class="summary offset-anchor" id="constructors">
      <h2>Constructors</h2>

      <dl class="constructor-summary-list">
        <dt id="PropStore" class="callable">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/PropStore.html">PropStore</a></span><span class="signature">(<span class="parameter" id="-param-dbnameProp"><span class="type-annotation">String</span> <span class="parameter-name">dbnameProp</span></span>)</span>
        </dt>
        <dd>
          Creates a <a href="smart_arrays_dbstore/PropStore-class.html">PropStore</a> whose underlying IndexedDB will get <code>dbnameProp</code>.
        </dd>
      </dl>
    </section>

    <section class="summary offset-anchor" id="instance-properties">
      <h2>Properties</h2>

      <dl class="properties">
        <dt id="dbnameProp" class="property">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/dbnameProp.html">dbnameProp</a></span>
          <span class="signature">&#8596; String</span>         
        </dt>
        <dd>
          The name of the database used by <a href="smart_arrays_dbstore/PropStore-class.html">PropStore</a>
                  <div class="features">read / write</div>
</dd>
        <dt id="objectstoreList" class="property">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/objectstoreList.html">objectstoreList</a></span>
          <span class="signature">&#8594; List<span class="signature">&lt;<wbr><span class="type-parameter">String</span>&gt;</span></span>         
        </dt>
        <dd>
          This is the list of object stores employed.
Note that adding a store would need a new db version number, otherwise
a version change event is not sent and _initDBProp() not called.
                  <div class="features">final</div>
</dd>
        <dt id="propCache" class="property">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/propCache.html">propCache</a></span>
          <span class="signature">&#8596; Map<span class="signature">&lt;<wbr><span class="type-parameter">String</span>, <span class="type-parameter">String</span>&gt;</span></span>         
        </dt>
        <dd>
          When reading a property from our store, we read it from the cache for speed.
Respectively all methods in this class must make sure the cache is uptodate.
                  <div class="features">read / write</div>
</dd>
        <dt id="hashCode" class="property inherited">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/hashCode.html">hashCode</a></span>
          <span class="signature">&#8594; int</span>         
        </dt>
        <dd class="inherited">
          The hash code for this object. <a href="smart_arrays_dbstore/PropStore/hashCode.html">[...]</a>
                  <div class="features">read-only, inherited</div>
</dd>
        <dt id="runtimeType" class="property inherited">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/runtimeType.html">runtimeType</a></span>
          <span class="signature">&#8594; Type</span>         
        </dt>
        <dd class="inherited">
          A representation of the runtime type of the object.
                  <div class="features">read-only, inherited</div>
</dd>
      </dl>
    </section>

    <section class="summary offset-anchor" id="instance-methods">
      <h2>Methods</h2>
      <dl class="callables">
        <dt id="loadProps" class="callable">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/loadProps.html">loadProps</a></span><span class="signature">(<wbr>)
            <span class="returntype parameter">&#8594; Future<span class="signature">&lt;<wbr><span class="type-parameter">Map<span class="signature">&lt;<wbr><span class="type-parameter">String</span>, <span class="type-parameter">String</span>&gt;</span></span>&gt;</span></span>
          </span>
                  </dt>
        <dd>
          Loads all properties <code>propName</code> from the db. Opens (connects) to the db,
loads the properties and closes (disconnects from) the db.
Returns a Map of key,value pairs.
May return an empty Map. Creates the db if not existing. In this case
the returned Map is empty. Returns null if the data base can't be created,
e.g. due to lack of browser support.
                  
</dd>
        <dt id="openPropDB" class="callable">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/openPropDB.html">openPropDB</a></span><span class="signature">(<wbr>)
            <span class="returntype parameter">&#8594; Future<span class="signature">&lt;<wbr><span class="type-parameter">Database</span>&gt;</span></span>
          </span>
                  </dt>
        <dd>
          Opens or creates a db of name <a href="smart_arrays_dbstore/PropStore/dbnameProp.html">dbnameProp</a>, as supplied to the constructor.
Opens if db exists, creates if db doesn't exist.
Returns the db. Returns null if browser doesn't support indexeddb.
                  
</dd>
        <dt id="propDel" class="callable">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/propDel.html">propDel</a></span><span class="signature">(<wbr><span class="parameter" id="propDel-param-propName"><span class="type-annotation">String</span> <span class="parameter-name">propName</span></span>)
            <span class="returntype parameter">&#8594; Future<span class="signature">&lt;<wbr><span class="type-parameter">bool</span>&gt;</span></span>
          </span>
                  </dt>
        <dd>
          Deletes <code>propName</code> from the db. Returns false on error.
                  
</dd>
        <dt id="propGet" class="callable">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/propGet.html">propGet</a></span><span class="signature">(<wbr><span class="parameter" id="propGet-param-propName"><span class="type-annotation">String</span> <span class="parameter-name">propName</span></span>)
            <span class="returntype parameter">&#8594; String</span>
          </span>
                  </dt>
        <dd>
          Returns the value of the property with name <code>propName</code> from the db.
Requires that loadProps() was called: This allows for getting a property
without waiting (no async method!).
Returns null if <code>propName</code> not found.
                  
</dd>
        <dt id="propSave" class="callable">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/propSave.html">propSave</a></span><span class="signature">(<wbr><span class="parameter" id="propSave-param-propName"><span class="type-annotation">String</span> <span class="parameter-name">propName</span>, </span> <span class="parameter" id="propSave-param-propValue"><span class="type-annotation">String</span> <span class="parameter-name">propValue</span></span>)
            <span class="returntype parameter">&#8594; Future<span class="signature">&lt;<wbr><span class="type-parameter">String</span>&gt;</span></span>
          </span>
                  </dt>
        <dd>
          Saves the property with key <code>propName</code> and value <code>propValue</code>
 a) in this <a href="smart_arrays_dbstore/PropStore-class.html">PropStore</a>'s cache (<a href="smart_arrays_dbstore/PropStore/propCache.html">propCache</a>
 b) in the database
If <code>propName</code> already exists in the db, its value will be overridden.
Returns <code>propName</code> in the case of success, null if failed. The latter
is true if the db could not be opened or created.
                  
</dd>
        <dt id="noSuchMethod" class="callable inherited">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/noSuchMethod.html">noSuchMethod</a></span><span class="signature">(<wbr><span class="parameter" id="noSuchMethod-param-invocation"><span class="type-annotation">Invocation</span> <span class="parameter-name">invocation</span></span>)
            <span class="returntype parameter">&#8594; dynamic</span>
          </span>
                  </dt>
        <dd class="inherited">
          Invoked when a non-existent method or property is accessed. <a href="smart_arrays_dbstore/PropStore/noSuchMethod.html">[...]</a>
                  <div class="features">inherited</div>
</dd>
        <dt id="toString" class="callable inherited">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/toString.html">toString</a></span><span class="signature">(<wbr>)
            <span class="returntype parameter">&#8594; String</span>
          </span>
                  </dt>
        <dd class="inherited">
          Returns a string representation of this object.
                  <div class="features">inherited</div>
</dd>
      </dl>
    </section>

    <section class="summary offset-anchor inherited" id="operators">
      <h2>Operators</h2>
      <dl class="callables">
        <dt id="operator ==" class="callable inherited">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/operator_equals.html">operator ==</a></span><span class="signature">(<wbr><span class="parameter" id="==-param-other"><span class="type-annotation">dynamic</span> <span class="parameter-name">other</span></span>)
            <span class="returntype parameter">&#8594; bool</span>
          </span>
                  </dt>
        <dd class="inherited">
          The equality operator. <a href="smart_arrays_dbstore/PropStore/operator_equals.html">[...]</a>
                  <div class="features">inherited</div>
</dd>
      </dl>
    </section>

    <section class="summary offset-anchor" id="static-properties">
      <h2>Static Properties</h2>

      <dl class="properties">
        <dt id="DB_VERSION_PROP" class="property">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/DB_VERSION_PROP.html">DB_VERSION_PROP</a></span>
          <span class="signature">&#8594; int</span>         
        </dt>
        <dd>
          Must be changed if the structure of the db is changed fundamentally
                  <div class="features">final</div>
</dd>
        <dt id="OBJ_STORE_PROP" class="property">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/OBJ_STORE_PROP.html">OBJ_STORE_PROP</a></span>
          <span class="signature">&#8594; String</span>         
        </dt>
        <dd>
          currently we employ only a single object store in the IndexedDB
                  <div class="features">final</div>
</dd>
      </dl>
    </section>

    <section class="summary offset-anchor" id="static-methods">
      <h2>Static Methods</h2>
      <dl class="callables">
        <dt id="loadDBKeys" class="callable">
          <span class="name"><a href="smart_arrays_dbstore/PropStore/loadDBKeys.html">loadDBKeys</a></span><span class="signature">(<wbr><span class="parameter" id="loadDBKeys-param-db"><span class="type-annotation">Database</span> <span class="parameter-name">db</span>, </span> <span class="parameter" id="loadDBKeys-param-storename"><span class="type-annotation">String</span> <span class="parameter-name">storename</span></span>)
            <span class="returntype parameter">&#8594; Future<span class="signature">&lt;<wbr><span class="type-parameter">List<span class="signature">&lt;<wbr><span class="type-parameter">String</span>&gt;</span></span>&gt;</span></span>
          </span>
                  </dt>
        <dd>
          Returns all keys in the object store <code>storename</code> of data base <code>db</code>.
Assumes <code>db</code> is open.
                  
</dd>
      </dl>
    </section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
    <ol>
      <li class="section-title"><a href="smart_arrays_dbstore/PropStore-class.html#constructors">Constructors</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/PropStore.html">PropStore</a></li>
    
      <li class="section-title">
        <a href="smart_arrays_dbstore/PropStore-class.html#instance-properties">Properties</a>
      </li>
      <li><a href="smart_arrays_dbstore/PropStore/dbnameProp.html">dbnameProp</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/objectstoreList.html">objectstoreList</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/propCache.html">propCache</a></li>
      <li class="inherited"><a href="smart_arrays_dbstore/PropStore/hashCode.html">hashCode</a></li>
      <li class="inherited"><a href="smart_arrays_dbstore/PropStore/runtimeType.html">runtimeType</a></li>
    
      <li class="section-title"><a href="smart_arrays_dbstore/PropStore-class.html#instance-methods">Methods</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/loadProps.html">loadProps</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/openPropDB.html">openPropDB</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/propDel.html">propDel</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/propGet.html">propGet</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/propSave.html">propSave</a></li>
      <li class="inherited"><a href="smart_arrays_dbstore/PropStore/noSuchMethod.html">noSuchMethod</a></li>
      <li class="inherited"><a href="smart_arrays_dbstore/PropStore/toString.html">toString</a></li>
    
      <li class="section-title inherited"><a href="smart_arrays_dbstore/PropStore-class.html#operators">Operators</a></li>
      <li class="inherited"><a href="smart_arrays_dbstore/PropStore/operator_equals.html">operator ==</a></li>
    
      <li class="section-title"><a href="smart_arrays_dbstore/PropStore-class.html#static-properties">Static properties</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/DB_VERSION_PROP.html">DB_VERSION_PROP</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/OBJ_STORE_PROP.html">OBJ_STORE_PROP</a></li>
    
      <li class="section-title"><a href="smart_arrays_dbstore/PropStore-class.html#static-methods">Static methods</a></li>
      <li><a href="smart_arrays_dbstore/PropStore/loadDBKeys.html">loadDBKeys</a></li>
    
    </ol>
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    smart_arrays_dbstore 2.0.4
  </span>

  
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/highlight.pack.js"></script>
<script src="static-assets/URI.js"></script>
<script src="static-assets/script.js"></script>


</body>

</html>
